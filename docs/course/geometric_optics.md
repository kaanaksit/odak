??? quote end "Narrate section"
    <audio controls="controls">
         <source type="audio/mp3" src="../media/geometric_optics.mp3"></source>
    </audio>


# Modeling light with rays


Modeling light plays a crucial role in describing events based on light and helps designing mechanisms based on light (e.g., Realistic graphics in a video game, display or camera).
This chapter introduces the most basic description of light using geometric rays, also known as raytracing.
Raytracing has a long history, from ancient times to current Computer Graphics.
Here, we will not cover the history of raytracing.
Instead, we will focus on how we implement simulations to build "things" with raytracing in the future.
As we provide algorithmic examples to support our descriptions, readers should be able to simulate light on their computers using the provided descriptions.


??? question end "Are there other good resources on modeling light with rays?"
    When I first started coding Odak, the first paper I read was on raytracing. 
    Thus, I recommend that paper for any starter:
    
    * [Spencer, G. H., and M. V. R. K. Murty. "General ray-tracing procedure." JOSA 52, no. 6 (1962): 672-678.](https://doi.org/10.1364/JOSA.52.000672) [@spencer1962general]
    
    Beyond this paper, there are several resources that I can recommend for curious readers:
    
    * [Shirley, Peter. "Ray tracing in one weekend." Amazon Digital Services LLC 1 (2018): 4.](https://www.realtimerendering.com/raytracing/Ray%20Tracing%20in%20a%20Weekend.pdf) [@shirley2018ray]
    * [Morgan McGuire (2021). The Graphics Codex. Casual Effects.](https://graphicscodex.com/) [@mcguire2018graphics]


## Ray description :material-alert-decagram:{ .mdx-pulse title="Too important!" }


:octicons-info-24: Informative ·
:octicons-beaker-24: Practical


We have to define what "a ray" is.
A ray has a starting point in Euclidean space ($x_0, y_0, z_0 \in \mathbb{R}$).
We also have to define direction cosines to provide the directions for rays.
Direction cosines are three angles of a ray between the XYZ axis and that ray ($\theta_x, \theta_y, \theta_z \in \mathbb{R}$).
To calculate direction cosines, we must choose a point on that ray as $x_1, y_1,$ and $z_1$ and we calculate its distance to the starting point of $x_0, y_0$ and $z_0$:

$$
x_{distance} = x_1 - x_0, \\
y_{distance} = y_1 - y_0, \\
z_{distance} = z_1 - z_0.
$$


Then, we can also calculate the Euclidian distance between starting point and the point chosen:

$$
s = \sqrt{x_{distance}^2 + y_{distance}^2 + z_{distance}^2}.
$$

Thus, we describe each direction cosines as:

$$
cos(\theta_x) = \frac{x_{distance}}{s}, \\
cos(\theta_y) = \frac{y_{distance}}{s}, \\
cos(\theta_z) = \frac{z_{distance}}{s}.
$$


Now that we know how to define a ray with a starting point, $x_0, y_0, z_0$ and a direction cosine, $cos(\theta_x), cos(\theta_y), cos(\theta_z)$, let us carefully analyze the parameters, returns, and source code of the provided two following functions in `odak` dedicated to creating a ray or multiple rays.


=== ":octicons-file-code-16: `odak.learn.raytracing.create_ray`"

    ::: odak.learn.raytracing.create_ray

=== ":octicons-file-code-16: `odak.learn.raytracing.create_ray_from_two_points`"

    ::: odak.learn.raytracing.create_ray_from_two_points


In the future, we must find out where a ray lands after a certain amount of propagation distance for various purposes, which we will describe in this chapter.
For that purpose, let us also create a utility function that propagates a  ray to some distance, $d$, using $x_0, y_0, z_0$ and $cos(\theta_x), cos(\theta_y), cos(\theta_z)$:

$$
x_{new} = x_0 + cos(\theta_x) d,\\
y_{new} = y_0 + cos(\theta_y) d,\\
z_{new} = z_0 + cos(\theta_z) d.
$$


Let us also check the function provided below to understand its source code, parameters, and returns.
This function will serve as a utility function to propagate a ray or a batch of rays in our future simulations.


=== ":octicons-file-code-16: `odak.learn.raytracing.propagate_ray`"

    ::: odak.learn.raytracing.propagate_ray


It is now time for us to put what we have learned so far into an actual code.
We can create many rays using the two functions, `odak.learn.raytracing.create_ray_from_two_points` and `odak.learn.raytracing.create_ray`.
However, to do so, we need to have many points in both cases.
For that purpose, let's carefully review this utility function provided below.
This utility function can generate grid samples from a plane with some tilt, and we can also define the center of our samples to position points anywhere in Euclidean space.


=== ":octicons-file-code-16: `odak.learn.tools.grid_sample`"

    ::: odak.learn.tools.grid_sample


The below script provides a sample use case for the functions provided above.
I also leave comments near some lines explaining the code in steps.


=== ":octicons-file-code-16: `test_learn_ray.py`"

    ```python 
    --8<-- "test/test_learn_ray.py"
    ```

    1. Required libraries are imported.
    2. Defining a starting point, in order X, Y and Z locations.
       Size of starting point could be s1] or [1, 1].
    3. Defining some end points on a plane in grid fashion.
    4. `odak.learn.raytracing.create_ray_from_two_points` is verified with an example! Let's move on to `odak.learn.raytracing.create_ray`.
    5. Creating starting points with `odak.learn.tools.grid_sample` and defining some angles as the direction using `torch.randn`.
       Note that the angles are in degrees.
    6. `odak.learn.raytracing.create_ray` is verified with an example!
    7. `odak.learn.raytracing.propagate_a_ray` is verified with an example!
    8. Set it to `True` to enable visualization.


The above code also has parts that are disabled (see `visualize` variable).
We disabled these lines intentionally to avoid running it at every run.
Let me talk about these disabled functions as well.
Odak offers a tidy approach to simple visualizations through packages called [Plotly](https://plotly.com/) and `kaleido`.
To make these lines work by setting `visualize = True`, you must first install `plotly` in your work environment.
This installation is as simple as `pip3 install plotly kaleido` in a Linux system.
As you install these packages and enable these lines, the code will produce a visualization similar to the one below.
Note that this is an interactive visualization where you can interact with your mouse clicks to rotate, shift, and zoom.
In this visualization, we visualize a single ray (green line) starting from our defined starting point (red dot) and ending at one of the `end_points` (blue dot).
We also highlight three axes with black lines to provide a reference frame.
Although `odak.visualize.plotly` offers us methods to visualize rays quickly for debugging, it is highly suggested to stick to a low number of lines when using it (e.g., say not exceeding 100 rays in total).
The proper way to draw many rays lies in modern path-tracing renderers such as [Blender](https://www.blender.org/).


<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>                <div id="3598239a-f352-4650-981b-0943f8d0aa2d" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3598239a-f352-4650-981b-0943f8d0aa2d")) {                    Plotly.newPlot(                        "3598239a-f352-4650-981b-0943f8d0aa2d",                        [{"marker":{"color":"red","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[5.0],"y":[5.0],"z":[0.0],"type":"scatter3d"},{"marker":{"color":"blue","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-10.0],"y":[-10.0],"z":[10.0],"type":"scatter3d"},{"line":{"color":"green","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,-10.0],"y":[5.0,-10.0],"z":[0.0,10.0],"type":"scatter3d"},{"marker":{"color":"black","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-10.0],"y":[5.0],"z":[0.0],"type":"scatter3d"},{"line":{"color":"black","dash":"dash","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,-10.0],"y":[5.0,5.0],"z":[0.0,0.0],"type":"scatter3d"},{"marker":{"color":"black","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[5.0],"y":[-10.0],"z":[0.0],"type":"scatter3d"},{"line":{"color":"black","dash":"dash","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,5.0],"y":[5.0,-10.0],"z":[0.0,0.0],"type":"scatter3d"},{"marker":{"color":"black","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[5.0],"y":[5.0],"z":[10.0],"type":"scatter3d"},{"line":{"color":"black","dash":"dash","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,5.0],"y":[5.0,5.0],"z":[0.0,10.0],"type":"scatter3d"}],                        {"annotations":[{"font":{"size":16},"showarrow":false,"text":"Ray visualization","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"scene":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]}},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}}},                        {"responsive": true}                    )                };                            </script>        </div>


??? question end "How can I learn more about more sophisticated renderers like Blender?"
    Blender is a widely used open-source renderer that comes with sophisticated features.
    It is user interface could be challenging for newcomers.
    A blog post published by SIGGRAPH Research Career Development Committee offers a neat entry-level post titled [`Rendering a paper figure with Blender`](https://research.siggraph.org/blog/guides/rendering-a-paper-figure-with-blender/) written by [Silvia Sellán](https://www.silviasellan.com/).

    In addition to Blender, there are various renderers you may be happy to know about if you are curious about Computer Graphics.
    [Mitsuba 3](https://www.mitsuba-renderer.org/) is another sophisticated rendering system based on a SIGGRAPH paper titled [`Dr.Jit: A Just-In-Time Compiler for Differentiable Rendering`](https://rgl.epfl.ch/publications/Jakob2022DrJit) [@jakob2022dr] from [Wenzel Jakob](https://rgl.epfl.ch/people/wjakob).

    If you know any other, please share it with the class so that they also learn more about other renderers.


??? abstract end "[Challenge: Blender meets Odak](https://github.com/kaanaksit/odak/discussions/71)"
    In light of the given information, we challenge readers to create a new submodule for Odak.
    Note that Odak has `odak.visualize.blender` submodule.
    However, at the time of this writing, this submodule works as a server that sends commands to a program that has to be manually triggered inside Blender.
    Odak seeks an upgrade to this submodule, where users can draw rays, meshes, or parametric surfaces easily in Blender with commands from Odak.
    This newly upgraded submodule should require no manual processes.
    To add these to `odak,` you can rely on the `pull request` feature on GitHub.
    You can also create a new `engineering note` for your new submodule in `docs/notes/odak_meets_blender.md`.


## Intersecting rays with surfaces :material-alert-decagram:{ .mdx-pulse title="Too important!" }


:octicons-info-24: Informative ·
:octicons-beaker-24: Practical


Rays we have described so far help us explore light and matter interactions.
Often in simulations, these rays interact with surfaces.
In a simulation environment for optical design,  equations often describe surfaces continuously.
These surface equations typically contain a number of parameters for defining surfaces.
For example, let us consider a sphere, which follows a standard equation as follows,


$$
r^2 = (x - x_0)^2 + (y - y_0)^2 + (z - z_0)^2,
$$


Where $r$ represents the diameter of that sphere, $x_0, y_0, z_0$ defines the center location of that sphere, and $x, y, z$ are points on the surface of a sphere.
When testing if a point is on a sphere, we use the above equation by inserting the point to be tested as $x, y, z$ into that equation.
In other words, to find a ray and sphere intersection, we must identify a distance that propagates our rays a certain amount and lends on a point on that sphere, and we can use the above sphere equation for identifying the intersection point of that rays.
As long the surface equation is well degined, the same strategy can be used for any surfaces.
In addition, if needed for future purposes (e.g., reflecting or refracting light off the surface of that sphere), we can also calculate the surface normal of that sphere by drawing a line by defining a ray starting from the center of that sphere and propagating towards the intersection point.
Let us examine, how we can identify intersection points for a set of given rays and a sphere by examining the below function.


=== ":octicons-file-code-16: `odak.learn.raytracing.intersect_w_sphere`"

    ::: odak.learn.raytracing.intersect_w_sphere


The `odak.learn.raytracing.intersect_w_sphere` function uses an optimizer to identify intersection points for each ray.
Instead, a function could have accomplished the task with a closed-form solution without iterating over the intersection test, which could have been much faster than the current function.
If you are curious about how to fix the highlighted issue, you may want to see the challenge provided below.


Let us examine how we can use the provided sphere intersection function with an example provided at the end of this subsection.


=== ":octicons-file-code-16: `test_learn_ray_intersect_w_a_sphere.py`"

    ```python 
    --8<-- "test/test_learn_ray_intersect_w_a_sphere.py"
    ```

    1. Here we provide an example use case for `odak.learn.raytracing.intersect_w_sphere` by providing a sphere and a batch of sample rays.
    2. Uncomment for running visualization.


<figure markdown>
  ![Image title](media/sphere_rays.png){ width="600" }
  <figcaption>Screenshow showing a sphere and ray intersections generated by "test_learn_ray_intersect_w_a_sphere.py" script.</figcaption>
</figure>


This section shows us how to operate with known geometric shapes, precisely spheres.
However, not every shape could be defined using parametric modeling (e.g., nonlinearities such as discontinuities on a surface).
We will look into another method in the next section, an approach used by folks working in Computer Graphics.


??? abstract end "[Challenge: Raytracing arbitrary surfaces](https://github.com/kaanaksit/odak/discussions/72)"
    In light of the given information, we challenge readers to create a new function inside `odak.learn.raytracing` submodule that replaces the current `intersect_w_sphere` function.
    In addition, the current unit test `test/test_learn_ray_intersect_w_a_sphere.py` has to adopt this new function.
    `odak.learn.raytracing` submodule also needs new functions for supporting arbitrary surfaces (parametric).
    New unit tests are needed to improve the submodule accordingly.
    To add these to `odak,` you can rely on the `pull request` feature on GitHub.
    You can also create a new `engineering note` for arbitrary surfaces in `docs/notes/raytracing_arbitrary_surfaces.md`.


## Intersecting rays with meshes :material-alert-decagram:{ .mdx-pulse title="Too important!" }


:octicons-info-24: Informative ·
:octicons-beaker-24: Practical


Parametric surfaces provide ease in defining shapes and geometries in various fields, including Optics and Computer Graphics.
However, not every object in a given scene could easily be described using parametric surfaces.
In many cases, including modern Computer Graphics, triangles formulate the smallest particle of an object or a shape.
These triangles altogether form meshes that define objects and shapes.
For this purpose, we will review source codes, parameters, and returns of three utility functions here.
We will first review `odak.learn.raytracing.intersect_w_surface` to understand how one can calculate the intersection of a ray with a given plane.
Later, we review `odak.learn.raytracing.is_it_on_triangle` function, which checks if an intersection point on a given surface is inside a triangle on that surface.
Finally, we will review `odak.learn.raytracing.intersect_w_triangle` function.
This last function combines both reviewed functions into a single function to identify the intersection between rays and a triangle.


=== ":octicons-file-code-16: `odak.learn.raytracing.intersect_w_surface`"

    ::: odak.learn.raytracing.intersect_w_surface

=== ":octicons-file-code-16: `odak.learn.raytracing.is_it_on_triangle`"

    ::: odak.learn.raytracing.is_it_on_triangle

=== ":octicons-file-code-16: `odak.learn.raytracing.intersect_w_triangle`"

    ::: odak.learn.raytracing.intersect_w_triangle


Using the provided utility functions above, let us build an example below that helps us find intersections between a triangle and a batch of rays.


=== ":octicons-file-code-16: `test_learn_ray_intersect_w_a_triangle.py`"

    ```python 
    --8<-- "test/test_learn_ray_intersect_w_a_triangle.py"
    ```

    1. Uncomment for running visualization.
    2. Returning intersection normals as new rays, distances from starting point of input rays and a check which returns True if intersection points are inside the triangle.


<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>                <div id="c4b7e43e-4358-4ab9-aac5-eff46bf1ec43" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c4b7e43e-4358-4ab9-aac5-eff46bf1ec43")) {                    Plotly.newPlot(                        "c4b7e43e-4358-4ab9-aac5-eff46bf1ec43",                        [{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,5.0,0.0],"y":[-5.0,-5.0,5.0],"z":[10.0,10.0,10.0],"type":"mesh3d"},{"marker":{"color":"blue","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-5.0,-5.0,-5.0,-5.0,-5.0,-2.5,-2.5,-2.5,-2.5,-2.5,0.0,0.0,0.0,0.0,0.0,2.5,2.5,2.5,2.5,2.5,5.0,5.0,5.0,5.0,5.0],"y":[-5.0,-2.5,0.0,2.5,5.0,-5.0,-2.5,0.0,2.5,5.0,-5.0,-2.5,0.0,2.5,5.0,-5.0,-2.5,0.0,2.5,5.0,-5.0,-2.5,0.0,2.5,5.0],"z":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,-3.0],"y":[-5.0,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,-3.0],"y":[-2.5,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,-3.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,-3.0],"y":[2.5,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,-3.0],"y":[5.0,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-2.5,-1.5],"y":[-5.0,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-2.5,-1.5],"y":[-2.5,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-2.5,-1.5],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-2.5,-1.5],"y":[2.5,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-2.5,-1.5],"y":[5.0,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-5.0,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-2.5,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[2.5,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[5.0,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[2.5,1.5],"y":[-5.0,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[2.5,1.5],"y":[-2.5,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[2.5,1.5],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[2.5,1.5],"y":[2.5,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[2.5,1.5],"y":[5.0,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,3.0],"y":[-5.0,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,3.0],"y":[-2.5,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,3.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,3.0],"y":[2.5,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[5.0,3.0],"y":[5.0,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"marker":{"color":["green","green","red","red","red","green","green","green","green","red","green","green","green","green","green","green","green","green","green","red","green","green","red","red","red"],"opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-3.0,-3.0,-3.0,-3.0,-3.0,-1.5,-1.5,-1.5,-1.5,-1.5,0.0,0.0,0.0,0.0,0.0,1.5,1.5,1.5,1.5,1.5,3.0,3.0,3.0,3.0,3.0],"y":[-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0],"z":[10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0],"type":"scatter3d"}],                        {"annotations":[{"font":{"size":16},"showarrow":false,"text":"Ray visualization","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"scene":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]}},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}}},                        {"responsive": true}                    )                };                            </script>        </div>


??? question end "Why should we be interested in ray and triangle intersections?"
    Modern Computer Graphics uses various representations for defining three-dimensional objects and scenes.
    These representations include:
    * Point Clouds: a series of XYZ coordinates from the surface of a three-dimensional object,
    * Meshes: a soup of triangles that represents a surface of a three-dimensional object,
    * Signed Distance Functions: a function informing about the distance between an XYZ point and a surface of a three-dimensional object,
    * Neural Radiance Fields: A machine learning approach to learning ray patterns from various perspectives.
    Historically, meshes have been mainly used to represent three-dimensional objects.
    Thus, intersecting rays and triangles are important for most Computer Graphics.


??? abstract end "[Challenge: Many triangles!](https://github.com/kaanaksit/odak/discussions/73)"
    The example provided above deals with a ray and a batch of rays.
    However, objects represented with triangles are typically described with many triangles but not one.
    Note that `odak.learn.raytracing.intersect_w_triangle` deal with each triangle one by one, and may lead to slow execution times as the function has to visit each triangle one by one.
    Given the information, we challenge readers to create a new function inside `odak.learn.raytracing` submodule named `intersect_w_mesh`.
    This new function has to be able to work with multiple triangles (meshes) and has to be aware of "occlusions" (e.g., a triangle blocking another triangle).
    In addition, a new unit test, `test/test_learn_ray_intersect_w_mesh.py`, has to adopt this new function.
    To add these to `odak,` you can rely on the `pull request` feature on GitHub.
    You can also create a new `engineering note` for arbitrary surfaces in `docs/notes/raytracing_meshes.md`.


## Refracting and reflecting rays :material-alert-decagram:{ .mdx-pulse title="Too important!" }


:octicons-info-24: Informative ·
:octicons-beaker-24: Practical 


In the previous subsections, we reviewed ray intersection with various surface representations, including parametric (e.g., spheres) and non-parametric (e.g., meshes).
Please remember that raytracing is the most simplistic modeling of light.
Thus, often raytracing does not account for any wave or quantum-related nature of light.
To our knowledge, light refracts, reflects, or diffracts when light interfaces with a surface or, in other words, a changing medium (e.g., light traveling from air to glass).
In that case, our next step should be identifying a methodology to help us model these events using rays.
We compiled two utility functions that could help us to model a refraction or a reflection.
These functions are named `odak.learn.raytracing.refract` [@spencer1962general] and `odak.learn.raytracing.reflect` [@spencer1962general].
This first one, `odak.learn.raytracing.refract` follows [Snell's law of refraction](https://en.wikipedia.org/wiki/Snell's_law), while `odak.learn.raytracing.reflect` follows a perfect reflection case.
We will not go into details of this theory as its simplest form in the way we discuss it could now be considered common knowledge.
However, for curious readers, the work by [Bell et al.](https://doi.org/10.1364/JOSA.59.000187) [@bell1969generalized] provides a generalized solution for the laws of refraction and reflection.
Let us carefully examine these two utility functions to understand their internal workings.


=== ":octicons-file-code-16: `odak.learn.raytracing.refract`"

    ::: odak.learn.raytracing.refract

=== ":octicons-file-code-16: `odak.learn.raytracing.reflect`"

    ::: odak.learn.raytracing.reflect


Please note that we provide two refractive indices as inputs in `odak.learn.raytracing.refract`.
These inputs represent the refractive indices of two mediums (e.g., air and glass).
However, the refractive index of a medium is dependent on light's wavelength (color).
In the following example, where we showcase a sample use case of these utility functions, we will assume that light has a single wavelength.
But bear in mind that when you need to ray trace with lots of wavelengths (multi-color RGB or hyperspectral), one must ray trace for each wavelength (color).
Thus, the computational complexity of the raytracing increases dramatically as we aim growing realism in the simulations (e.g., describe scenes per color, raytracing for each color).
Let's dive deep into how we use these functions in an actual example by observing the example below.


=== ":octicons-file-code-16: `test_learn_ray_refract_reflect.py`"


    ```python 
    --8<-- "test/test_learn_ray_refract_reflect.py"
    ```

    1. Refractive index of air (arbitrary and regardless of wavelength), the medium before the ray and triangle intersection. 
    2. Refractive index of glass (arbitrary and regardless of wavelength), the medium after the ray and triangle intersection.
    3. Refraction process.
    4. Reflection process.

<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>                <div id="db79d5e8-6a2a-4723-948f-69a8abd08d11" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("db79d5e8-6a2a-4723-948f-69a8abd08d11")) {                    Plotly.newPlot(                        "db79d5e8-6a2a-4723-948f-69a8abd08d11",                        [{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,5.0,0.0],"y":[-5.0,-5.0,5.0],"z":[10.0,10.0,10.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-5.0,5.0,0.0],"y":[-5.0,-5.0,5.0],"z":[10.0,10.0,10.0],"type":"mesh3d"},{"marker":{"color":"blue","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-7.5,-7.5,-7.5,-7.5,-7.5,-3.75,-3.75,-3.75,-3.75,-3.75,0.0,0.0,0.0,0.0,0.0,3.75,3.75,3.75,3.75,3.75,7.5,7.5,7.5,7.5,7.5],"y":[-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5],"z":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter3d"},{"marker":{"color":"blue","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene2","showlegend":false,"x":[-7.5,-7.5,-7.5,-7.5,-7.5,-3.75,-3.75,-3.75,-3.75,-3.75,0.0,0.0,0.0,0.0,0.0,3.75,3.75,3.75,3.75,3.75,7.5,7.5,7.5,7.5,7.5],"y":[-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5,-7.5,-3.75,0.0,3.75,7.5],"z":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-7.5,-3.0],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-7.5,-3.0],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-7.5,-3.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-7.5,-3.0],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-7.5,-3.0],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.75,-1.5],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.75,-1.5],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.75,-1.5],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.75,-1.5],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.75,-1.5],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.75,1.5],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.75,1.5],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.75,1.5],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.75,1.5],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.75,1.5],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[7.5,3.0],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[7.5,3.0],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[7.5,3.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[7.5,3.0],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[7.5,3.0],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-7.5,-3.0],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-7.5,-3.0],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-7.5,-3.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-7.5,-3.0],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-7.5,-3.0],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.75,-1.5],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.75,-1.5],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.75,-1.5],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.75,-1.5],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.75,-1.5],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.75,1.5],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.75,1.5],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.75,1.5],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.75,1.5],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.75,1.5],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[7.5,3.0],"y":[-7.5,-3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[7.5,3.0],"y":[-3.75,-1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[7.5,3.0],"y":[0.0,0.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[7.5,3.0],"y":[3.75,1.5],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[7.5,3.0],"y":[7.5,3.0],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.0,-0.23439526557922363],"y":[-3.0,-0.23439526557922363],"z":[10.0,20.28152084350586],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-3.0,-0.07159566879272461],"y":[-1.5,-0.035797834396362305],"z":[10.0,20.50164794921875],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-1.5,-0.035797834396362305],"y":[-3.0,-0.07159566879272461],"z":[10.0,20.50164794921875],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-1.5,0.061907410621643066],"y":[-1.5,0.061907410621643066],"z":[10.0,20.776042938232422],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-1.5,0.09909546375274658],"y":[0.0,0.0],"z":[10.0,20.883230209350586],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-1.5,0.061907410621643066],"y":[1.5,-0.061907410621643066],"z":[10.0,20.776042938232422],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-3.0,-0.010588407516479492],"z":[10.0,20.58616065979004],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-1.5,0.09909546375274658],"z":[10.0,20.883230209350586],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[0.0,0.0],"z":[10.0,21.000064849853516],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[1.5,-0.09909546375274658],"z":[10.0,20.883230209350586],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[3.0,0.010588407516479492],"z":[10.0,20.58616065979004],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[1.5,0.035797834396362305],"y":[-3.0,-0.07159566879272461],"z":[10.0,20.50164794921875],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[1.5,-0.061907410621643066],"y":[-1.5,0.061907410621643066],"z":[10.0,20.776042938232422],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[1.5,-0.09909546375274658],"y":[0.0,0.0],"z":[10.0,20.883230209350586],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[1.5,-0.061907410621643066],"y":[1.5,-0.061907410621643066],"z":[10.0,20.776042938232422],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.0,0.23439526557922363],"y":[-3.0,-0.23439526557922363],"z":[10.0,20.28152084350586],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[3.0,0.07159566879272461],"y":[-1.5,-0.035797834396362305],"z":[10.0,20.50164794921875],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.0,-0.26657700538635254],"y":[-3.0,-0.26657700538635254],"z":[10.0,3.925726890563965],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.0,-0.10567164421081543],"y":[-1.5,-0.052835822105407715],"z":[10.0,3.5681591033935547],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-1.5,-0.052835822105407715],"y":[-3.0,-0.10567164421081543],"z":[10.0,3.5681591033935547],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-1.5,0.043732523918151855],"y":[-1.5,0.043732523918151855],"z":[10.0,3.1389670372009277],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-1.5,0.08048772811889648],"y":[0.0,0.0],"z":[10.0,2.97560977935791],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-1.5,0.043732523918151855],"y":[1.5,-0.043732523918151855],"z":[10.0,3.1389670372009277],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[-3.0,-0.045374393463134766],"z":[10.0,3.4341650009155273],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[-1.5,0.08048772811889648],"z":[10.0,2.97560977935791],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[0.0,0.0],"z":[10.0,2.8000001907348633],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[1.5,-0.08048772811889648],"z":[10.0,2.97560977935791],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[3.0,0.045374393463134766],"z":[10.0,3.4341650009155273],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[1.5,0.052835822105407715],"y":[-3.0,-0.10567164421081543],"z":[10.0,3.5681591033935547],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[1.5,-0.043732523918151855],"y":[-1.5,0.043732523918151855],"z":[10.0,3.1389670372009277],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[1.5,-0.08048772811889648],"y":[0.0,0.0],"z":[10.0,2.97560977935791],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[1.5,-0.043732523918151855],"y":[1.5,-0.043732523918151855],"z":[10.0,3.1389670372009277],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.0,0.26657700538635254],"y":[-3.0,-0.26657700538635254],"z":[10.0,3.925726890563965],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[3.0,0.10567164421081543],"y":[-1.5,-0.052835822105407715],"z":[10.0,3.5681591033935547],"type":"scatter3d"},{"marker":{"color":["green","green","red","red","red","green","green","green","green","red","green","green","green","green","green","green","green","green","green","red","green","green","red","red","red"],"opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-3.0,-3.0,-3.0,-3.0,-3.0,-1.5,-1.5,-1.5,-1.5,-1.5,0.0,0.0,0.0,0.0,0.0,1.5,1.5,1.5,1.5,1.5,3.0,3.0,3.0,3.0,3.0],"y":[-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0],"z":[10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0],"type":"scatter3d"},{"marker":{"color":["green","green","red","red","red","green","green","green","green","red","green","green","green","green","green","green","green","green","green","red","green","green","red","red","red"],"opacity":0.5,"size":3.0},"mode":"markers","scene":"scene2","showlegend":false,"x":[-3.0,-3.0,-3.0,-3.0,-3.0,-1.5,-1.5,-1.5,-1.5,-1.5,0.0,0.0,0.0,0.0,0.0,1.5,1.5,1.5,1.5,1.5,3.0,3.0,3.0,3.0,3.0],"y":[-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0,-3.0,-1.5,0.0,1.5,3.0],"z":[10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0],"type":"scatter3d"}],                        {"annotations":[{"font":{"size":16},"showarrow":false,"text":"Refraction example","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Reflection example","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"scene":{"domain":{"x":[0.0,0.45],"y":[0.0,1.0]}},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"scene2":{"domain":{"x":[0.55,1.0],"y":[0.0,1.0]}}},                        {"responsive": true}                    )                };                            </script>        </div>


??? abstract end "[Challenge: Diffracted intefering rays](https://github.com/kaanaksit/odak/discussions/74)"
    This subsection covered simulating refraction and reflection events.
    However, [diffraction or interference](https://youtu.be/z_AtSgct6_I?t=4956) [@born2013principles] is not introduced in this raytracing model.
    This is because diffraction and interference would require another layer of complication.
    In other words, rays have to have an extra dimension beyond their starting points and direction cosines, and they also have to have the quality named phase of light.
    This fact makes a typical ray have dimensions of [1 x 3 x 3] instead of [1 x 2 x 3], where only direction cosines and starting points are defined.
    Given the information, we challenge readers to create a new submodule, `odak.learn.raytracing.diffraction`, extending rays to diffraction and interference.
    In addition, a new set of unit tests should be derived to adopt this new function submodule.
    To add these to `odak,` you can rely on the `pull request` feature on GitHub.
    You can also create a new `engineering note` for arbitrary surfaces in `docs/notes/raytracing_diffraction_interference.md`.


## Optimization with rays


:octicons-info-24: Informative ·
:octicons-beaker-24: Practical 


We learned about refraction, reflection, rays, and surface intersections in the previous subsection.
We didn't mention it then, but these functions are differentiable [@paszke2017automatic].
In other words, a modern machine learning library can keep a graph of a variable passing through each one of these functions (see [chain rule](https://en.wikipedia.org/wiki/Chain_rule)).
This differentiability feature is vital because differentiability makes our simulations for light with raytracing based on these functions compatible with modern machine learning frameworks such as Torch.
In this subsection, we will use an off-the-shelf optimizer from Torch to optimize variables in our ray tracing simulations.
In the first example, we will see that the optimizer helps us define the proper tilt angles for a triangle-shaped mirror and redirect light from a point light source towards a given target.
Our first example resembles a straightforward case for optimization by containing only a batch of rays and a single triangle.
The problem highlighted in the first example has a closed-form solution, and using an optimizer is obviously overkill.
We want our readers to understand that the first example is a warm-up scenario where our readers understand how to interact with race and triangles in the context of an optimization problem.
In our following second example, we will deal with a more sophisticated case where a batch of rays arriving from a point light source bounces off a surface with multiple triangles in parentheses mesh and comes at some point in our final target plane.
This time we will ask our optimizer to optimize the shape of our triangles so that most of the light bouncing off there's optimized surface ends up at a location close to a target we define in our simulation.
This way, we show our readers that a more sophisticated shape could be optimized using our framework, Odak.
In real life, the second example could be a lens or mirror shape to be optimized. 
More specifically, as an application example, it could be a mirror or a lens that focuses light from the Sun onto a solar cell to increase the efficiency of a solar power system, or it could have been a lens helping you to focus on a specific depth given your eye prescription.
Let us start from our first example and examine how we can tilt the surfaces using an optimizer, and in this second example, let us see how an optimizer helps us define and optimize shape for a given mesh.


=== ":octicons-file-code-16: `test_learn_ray_optimization.py`"


    ```python 
    --8<-- "test/test_learn_ray_optimization.py"
    ```


<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>                <div id="265fe3c7-46f5-48fe-ad53-346e12506e4c" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("265fe3c7-46f5-48fe-ad53-346e12506e4c")) {                    Plotly.newPlot(                        "265fe3c7-46f5-48fe-ad53-346e12506e4c",                        [{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-5.0,5.0,0.0],"y":[-5.0,-5.0,5.0],"z":[10.0,10.0,10.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-3.3808789253234863,5.826111316680908,-2.445233106613159],"y":[-6.272851467132568,-3.085897922515869,4.358749866485596],"z":[8.138861656188965,10.39156436920166,11.469573974609375],"type":"mesh3d"},{"marker":{"color":"blue","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[-0.5,-0.5,-0.5,-0.5,-0.5,-0.25,-0.25,-0.25,-0.25,-0.25,0.0,0.0,0.0,0.0,0.0,0.25,0.25,0.25,0.25,0.25,0.5,0.5,0.5,0.5,0.5],"y":[-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5],"z":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter3d"},{"marker":{"color":"blue","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene2","showlegend":false,"x":[-0.5,-0.5,-0.5,-0.5,-0.5,-0.25,-0.25,-0.25,-0.25,-0.25,0.0,0.0,0.0,0.0,0.0,0.25,0.25,0.25,0.25,0.25,0.5,0.5,0.5,0.5,0.5],"y":[-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5,-0.5,-0.25,0.0,0.25,0.5],"z":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.5,0.0],"y":[-0.5,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.5,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.5,0.0],"y":[0.0,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.5,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.5,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.25,0.0],"y":[-0.5,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.25,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.25,0.0],"y":[0.0,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.25,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.25,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-0.5,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[0.0,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[0.25,-1.6666667461395264],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.25,0.0],"y":[-0.5,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.25,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.25,0.0],"y":[0.0,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.25,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.25,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.5,0.0],"y":[-0.5,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.5,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.5,0.0],"y":[0.0,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.5,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.5,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.5,-5.960464477539063e-08],"y":[-0.5,-1.6666665077209473],"z":[0.0,9.999999046325684],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.5,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.5,0.0],"y":[0.0,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.5,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.5,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.25,-2.9802322387695312e-08],"y":[-0.5,-1.6666665077209473],"z":[0.0,9.999999046325684],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.25,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.25,0.0],"y":[0.0,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.25,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.25,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[-0.5,-1.6666665077209473],"z":[0.0,9.999999046325684],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[-0.25,-1.6666665077209473],"z":[0.0,9.999999046325684],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[0.0,-1.6666665077209473],"z":[0.0,9.999999046325684],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[0.25,-1.6666667461395264],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.25,0.0],"y":[-0.5,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.25,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.25,0.0],"y":[0.0,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.25,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.25,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.5,5.960464477539063e-08],"y":[-0.5,-1.6666665077209473],"z":[0.0,9.999999046325684],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.5,0.0],"y":[-0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.5,0.0],"y":[0.0,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.5,0.0],"y":[0.25,-1.6666666269302368],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.5,0.0],"y":[0.5,-1.6666665077209473],"z":[0.0,10.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.5],"y":[-1.6666666269302368,-2.8333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.5],"y":[-1.6666666269302368,-3.0833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.5],"y":[-1.6666665077209473,-3.3333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.5],"y":[-1.6666666269302368,-3.5833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.5],"y":[-1.6666665077209473,-3.8333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.25],"y":[-1.6666666269302368,-2.8333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.25],"y":[-1.6666666269302368,-3.0833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.25],"y":[-1.6666666269302368,-3.3333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.25],"y":[-1.6666666269302368,-3.5833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.25],"y":[-1.6666665077209473,-3.8333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-1.6666666269302368,-2.8333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-1.6666666269302368,-3.0833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-1.6666666269302368,-3.3333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-1.6666667461395264,-3.5833334922790527],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0],"y":[-1.6666665077209473,-3.8333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.25],"y":[-1.6666666269302368,-2.8333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.25],"y":[-1.6666666269302368,-3.0833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.25],"y":[-1.6666666269302368,-3.3333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.25],"y":[-1.6666666269302368,-3.5833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.25],"y":[-1.6666665077209473,-3.8333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.5],"y":[-1.6666666269302368,-2.8333332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.5],"y":[-1.6666666269302368,-3.0833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.5],"y":[-1.6666665077209473,-3.3333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.5],"y":[-1.6666666269302368,-3.5833332538604736],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.5],"y":[-1.6666665077209473,-3.8333330154418945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.6414151191711426],"y":[-1.6666666269302368,3.5053300857543945],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.6063997745513916],"y":[-1.6666666269302368,3.1826014518737793],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.572463274002075],"y":[-1.6666665077209473,2.8698220252990723],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.539557933807373],"y":[-1.6666666269302368,2.5665411949157715],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.507636547088623],"y":[-1.6666665077209473,2.2723307609558105],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.3336312770843506],"y":[-1.6666666269302368,3.4893832206726074],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.303654432296753],"y":[-1.6666666269302368,3.1692452430725098],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.274595260620117],"y":[-1.6666666269302368,2.8589067459106445],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.246411085128784],"y":[-1.6666666269302368,2.557924270629883],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.2190651893615723],"y":[-1.6666665077209473,2.265882730484009],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.030352830886841],"y":[-1.6666666269302368,3.4736709594726562],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,3.005272150039673],"y":[-1.6666666269302368,3.1560821533203125],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.980952739715576],"y":[-1.6666666269302368,2.848144054412842],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.9573631286621094],"y":[-1.6666667461395264,2.5494282245635986],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.9344685077667236],"y":[-1.6666665077209473,2.259523630142212],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.7314820289611816],"y":[-1.6666666269302368,3.4581871032714844],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.7111594676971436],"y":[-1.6666666269302368,3.143106460571289],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.691451072692871],"y":[-1.6666666269302368,2.837535858154297],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.6723272800445557],"y":[-1.6666666269302368,2.541050434112549],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.6537649631500244],"y":[-1.6666665077209473,2.253251552581787],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.436922073364258],"y":[-1.6666666269302368,3.442925453186035],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.4212255477905273],"y":[-1.6666666269302368,3.1303162574768066],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.405998706817627],"y":[-1.6666665077209473,2.8270740509033203],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.3912222385406494],"y":[-1.6666666269302368,2.5327882766723633],"z":[10.0,0.0],"type":"scatter3d"},{"line":{"color":"blue","width":3.0},"mode":"lines","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,2.376875162124634],"y":[-1.6666665077209473,2.2470641136169434],"z":[10.0,0.0],"type":"scatter3d"},{"marker":{"color":"red","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene","showlegend":false,"x":[3.0],"y":[3.0],"z":[0.0],"type":"scatter3d"},{"marker":{"color":"green","opacity":0.5,"size":3.0},"mode":"markers","scene":"scene2","showlegend":false,"x":[3.0],"y":[3.0],"z":[0.0],"type":"scatter3d"}],                        {"annotations":[{"font":{"size":16},"showarrow":false,"text":"Surace before optimization","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Surface after optimization","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"scene":{"domain":{"x":[0.0,0.45],"y":[0.0,1.0]}},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"scene2":{"domain":{"x":[0.55,1.0],"y":[0.0,1.0]}}},                        {"responsive": true}                    )                };                            </script>        </div>


Let us also look into the more sophisticated second example, where a triangular mesh is optimized to meet a specific demand, redirecting rays to a particular target.


=== ":octicons-file-code-16: `test_learn_ray_mesh.py`"


    ```python 
    --8<-- "test/test_learn_ray_mesh.py"
    ```

<div>                            <div id="2695fa16-4022-43c9-91a6-8a44bbaa4b87" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2695fa16-4022-43c9-91a6-8a44bbaa4b87")) {                    Plotly.newPlot(                        "2695fa16-4022-43c9-91a6-8a44bbaa4b87",                        [{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0055454084649682045,0.005545407999306917,0.002182161435484886],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.002182161435484886,0.003139992244541645,-9.937785216607153e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[-9.937785216607153e-05,0.002054185839369893,-0.0013756140833720565],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.0013756140833720565,0.0016916069434955716,-0.0018024155870079994],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.0018024155870079994,0.00215203152038157,-0.0011152835795655847],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.0011152835795655847,0.0036816310603171587,0.00025126710534095764],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.00025126710534095764,0.005900067742913961,0.002618858590722084],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.550000011920929,-0.4125000238418579],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.002618858590722084,0.00937181431800127,0.005947472993284464],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0031399924773722887,0.002182161435484886,-9.937761933542788e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[-9.937761933542788e-05,-9.937785216607153e-05,-0.0024164936039596796],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[-0.0024164936039596796,-0.0013756140833720565,-0.0037830001674592495],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.0037830001674592495,-0.0018024155870079994,-0.004109933506697416],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.004109933506697416,-0.0011152835795655847,-0.003457849845290184],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.003457849845290184,0.00025126710534095764,-0.0021152407862246037],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[-0.0021152407862246037,0.002618858590722084,0.0002446242142468691],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.4125000238418579,-0.2750000059604645],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0002446242142468691,0.005947472993284464,0.0036900248378515244],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0020541830454021692,-9.937761933542788e-05,-0.0013756133848801255],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[-0.0013756133848801255,-0.0024164936039596796,-0.003783000633120537],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[-0.003783000633120537,-0.0037830001674592495,-0.005102294962853193],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.005102294962853193,-0.004109933506697416,-0.005453224293887615],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.005453224293887615,-0.003457849845290184,-0.004800593014806509],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.004800593014806509,-0.0021152407862246037,-0.003468266222625971],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[-0.003468266222625971,0.0002446242142468691,-0.0011214371770620346],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,-0.2750000059604645,-0.13750000298023224],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[-0.0011214371770620346,0.0036900248378515244,0.0022079588379710913],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0016916065942496061,-0.0013756133848801255,-0.0018024157034233212],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[-0.0018024157034233212,-0.003783000633120537,-0.004109933506697416],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[-0.004109933506697416,-0.005102294962853193,-0.0054532247595489025],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.0054532247595489025,-0.005453224293887615,-0.005803864449262619],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.005803864449262619,-0.004800593014806509,-0.005193202756345272],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.005193202756345272,-0.003468266222625971,-0.003882543882355094],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[-0.003882543882355094,-0.0011214371770620346,-0.0015464891912415624],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,-0.13750000298023224,0.0],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[-0.0015464891912415624,0.0022079588379710913,0.0016271979548037052],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0021520296577364206,-0.0018024157034233212,-0.0011152841616421938],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[-0.0011152841616421938,-0.004109933506697416,-0.0034578482154756784],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[-0.0034578482154756784,-0.0054532247595489025,-0.0048005906865000725],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.0048005906865000725,-0.005803864449262619,-0.005193203687667847],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.005193203687667847,-0.005193202756345272,-0.0046201287768781185],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.0046201287768781185,-0.003882543882355094,-0.0033765838015824556],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[-0.0033765838015824556,-0.0015464891912415624,-0.001203073188662529],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.0,0.13750000298023224],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[-0.001203073188662529,0.0016271979548037052,0.00207264325581491],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0036816324573010206,-0.0011152841616421938,0.0002512667851988226],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0002512667851988226,-0.0034578482154756784,-0.00211524055339396],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[-0.00211524055339396,-0.0048005906865000725,-0.003468265989795327],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.003468265989795327,-0.005193203687667847,-0.0038825448136776686],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.0038825448136776686,-0.0046201287768781185,-0.0033765833359211683],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.0033765833359211683,-0.0033765838015824556,-0.002167513594031334],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[-0.002167513594031334,-0.001203073188662529,5.6114004109986126e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.13750000298023224,0.2750000059604645],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[5.6114004109986126e-05,0.00207264325581491,0.003199667204171419],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0059000663459300995,0.0002512667851988226,0.0026188583578914404],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0026188583578914404,-0.00211524055339396,0.00024462537840008736],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.00024462537840008736,-0.003468265989795327,-0.0011214378755539656],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[-0.13750000298023224,0.0,0.0],"z":[-0.0011214378755539656,-0.0038825448136776686,-0.0015464884927496314],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[-0.0015464884927496314,-0.0033765833359211683,-0.0012030716752633452],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[-0.0012030716752633452,-0.002167513594031334,5.611532833427191e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[5.611532833427191e-05,5.6114004109986126e-05,0.0022796904668211937],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.2750000059604645,0.4125000238418579],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0022796904668211937,0.003199667204171419,0.0055448333732783794],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.550000011920929,-0.4125000238418579,-0.4125000238418579],"z":[0.009371815249323845,0.0026188583578914404,0.005947473458945751],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.4125000238418579,-0.2750000059604645,-0.2750000059604645],"z":[0.005947473458945751,0.00024462537840008736,0.003690022276714444],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.2750000059604645,-0.13750000298023224,-0.13750000298023224],"z":[0.003690022276714444,-0.0011214378755539656,0.0022079560440033674],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[-0.13750000298023224,0.0,0.0],"z":[0.0022079560440033674,-0.0015464884927496314,0.0016271955100819468],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.0,0.13750000298023224,0.13750000298023224],"z":[0.0016271955100819468,-0.0012030716752633452,0.0020726430229842663],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.13750000298023224,0.2750000059604645,0.2750000059604645],"z":[0.0020726430229842663,5.611532833427191e-05,0.0031996637117117643],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.2750000059604645,0.4125000238418579,0.4125000238418579],"z":[0.0031996637117117643,0.0022796904668211937,0.00554483849555254],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.550000011920929,0.4125000238418579,0.550000011920929],"y":[0.4125000238418579,0.550000011920929,0.550000011920929],"z":[0.00554483849555254,0.0055448333732783794,0.008682269603013992],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.00878162868320942,0.0055454084649682045,0.005545407999306917],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.005545407999306917,0.002182161435484886,0.003139992244541645],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.003139992244541645,-9.937785216607153e-05,0.002054185839369893],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.002054185839369893,-0.0013756140833720565,0.0016916069434955716],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.0,0.0,0.13750000298023224],"z":[0.0016916069434955716,-0.0018024155870079994,0.00215203152038157],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.00215203152038157,-0.0011152835795655847,0.0036816310603171587],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0036816310603171587,0.00025126710534095764,0.005900067742913961],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.550000011920929,-0.4125000238418579,-0.550000011920929],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.005900067742913961,0.002618858590722084,0.00937181431800127],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0055454084649682045,0.0031399924773722887,0.002182161435484886],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.002182161435484886,-9.937761933542788e-05,-9.937785216607153e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[-9.937785216607153e-05,-0.0024164936039596796,-0.0013756140833720565],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.0013756140833720565,-0.0037830001674592495,-0.0018024155870079994],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.0,0.0,0.13750000298023224],"z":[-0.0018024155870079994,-0.004109933506697416,-0.0011152835795655847],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.0011152835795655847,-0.003457849845290184,0.00025126710534095764],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.00025126710534095764,-0.0021152407862246037,0.002618858590722084],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.4125000238418579,-0.2750000059604645,-0.4125000238418579],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.002618858590722084,0.0002446242142468691,0.005947472993284464],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0031399924773722887,0.0020541830454021692,-9.937761933542788e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[-9.937761933542788e-05,-0.0013756133848801255,-0.0024164936039596796],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[-0.0024164936039596796,-0.003783000633120537,-0.0037830001674592495],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.0037830001674592495,-0.005102294962853193,-0.004109933506697416],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.0,0.0,0.13750000298023224],"z":[-0.004109933506697416,-0.005453224293887615,-0.003457849845290184],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.003457849845290184,-0.004800593014806509,-0.0021152407862246037],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[-0.0021152407862246037,-0.003468266222625971,0.0002446242142468691],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.2750000059604645,-0.13750000298023224,-0.2750000059604645],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0002446242142468691,-0.0011214371770620346,0.0036900248378515244],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0020541830454021692,0.0016916065942496061,-0.0013756133848801255],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[-0.0013756133848801255,-0.0018024157034233212,-0.003783000633120537],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[-0.003783000633120537,-0.004109933506697416,-0.005102294962853193],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.005102294962853193,-0.0054532247595489025,-0.005453224293887615],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.0,0.0,0.13750000298023224],"z":[-0.005453224293887615,-0.005803864449262619,-0.004800593014806509],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.004800593014806509,-0.005193202756345272,-0.003468266222625971],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[-0.003468266222625971,-0.003882543882355094,-0.0011214371770620346],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[-0.13750000298023224,0.0,-0.13750000298023224],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[-0.0011214371770620346,-0.0015464891912415624,0.0022079588379710913],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0016916065942496061,0.0021520296577364206,-0.0018024157034233212],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[-0.0018024157034233212,-0.0011152841616421938,-0.004109933506697416],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[-0.004109933506697416,-0.0034578482154756784,-0.0054532247595489025],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.0054532247595489025,-0.0048005906865000725,-0.005803864449262619],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.0,0.0,0.13750000298023224],"z":[-0.005803864449262619,-0.005193203687667847,-0.005193202756345272],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.005193202756345272,-0.0046201287768781185,-0.003882543882355094],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[-0.003882543882355094,-0.0033765838015824556,-0.0015464891912415624],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.13750000298023224,0.0],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[-0.0015464891912415624,-0.001203073188662529,0.0016271979548037052],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0021520296577364206,0.0036816324573010206,-0.0011152841616421938],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[-0.0011152841616421938,0.0002512667851988226,-0.0034578482154756784],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[-0.0034578482154756784,-0.00211524055339396,-0.0048005906865000725],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.0048005906865000725,-0.003468265989795327,-0.005193203687667847],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.0,0.0,0.13750000298023224],"z":[-0.005193203687667847,-0.0038825448136776686,-0.0046201287768781185],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.0046201287768781185,-0.0033765833359211683,-0.0033765838015824556],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[-0.0033765838015824556,-0.002167513594031334,-0.001203073188662529],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.13750000298023224,0.2750000059604645,0.13750000298023224],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[-0.001203073188662529,5.6114004109986126e-05,0.00207264325581491],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0036816324573010206,0.0059000663459300995,0.0002512667851988226],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0002512667851988226,0.0026188583578914404,-0.00211524055339396],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[-0.00211524055339396,0.00024462537840008736,-0.003468265989795327],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.003468265989795327,-0.0011214378755539656,-0.0038825448136776686],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.0,0.0,0.13750000298023224],"z":[-0.0038825448136776686,-0.0015464884927496314,-0.0033765833359211683],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.0033765833359211683,-0.0012030716752633452,-0.002167513594031334],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[-0.002167513594031334,5.611532833427191e-05,5.6114004109986126e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.2750000059604645,0.4125000238418579,0.2750000059604645],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[5.6114004109986126e-05,0.0022796904668211937,0.003199667204171419],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.550000011920929,-0.550000011920929,-0.4125000238418579],"z":[0.0059000663459300995,0.009371815249323845,0.0026188583578914404],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.4125000238418579,-0.4125000238418579,-0.2750000059604645],"z":[0.0026188583578914404,0.005947473458945751,0.00024462537840008736],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.2750000059604645,-0.2750000059604645,-0.13750000298023224],"z":[0.00024462537840008736,0.003690022276714444,-0.0011214378755539656],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[-0.13750000298023224,-0.13750000298023224,0.0],"z":[-0.0011214378755539656,0.0022079560440033674,-0.0015464884927496314],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.0,0.0,0.13750000298023224],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.0,0.0,0.13750000298023224],"z":[-0.0015464884927496314,0.0016271955100819468,-0.0012030716752633452],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.13750000298023224,0.13750000298023224,0.2750000059604645],"z":[-0.0012030716752633452,0.0020726430229842663,5.611532833427191e-05],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.2750000059604645,0.2750000059604645,0.4125000238418579],"z":[5.611532833427191e-05,0.0031996637117117643,0.0022796904668211937],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.4125000238418579,0.550000011920929,0.4125000238418579],"y":[0.4125000238418579,0.4125000238418579,0.550000011920929],"z":[0.0022796904668211937,0.00554483849555254,0.0055448333732783794],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"},{"color":"orange","opacity":0.5,"scene":"scene2","showlegend":false,"x":[0.0,0.0,0.0],"y":[0.0,0.0,0.0],"z":[0.0,0.0,0.0],"type":"mesh3d"}],                        {"annotations":[{"font":{"size":16},"showarrow":false,"text":"Before optimization","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"After optimization","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"scene":{"domain":{"x":[0.0,0.45],"y":[0.0,1.0]}},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"scene2":{"domain":{"x":[0.55,1.0],"y":[0.0,1.0]}}},                        {"responsive": true}                    )                };                            </script>        </div>



??? abstract end "[Challenge: Differentiable detector](https://github.com/kaanaksit/odak/discussions/75)"
    In our examples, where we try bouncing light towards a fixed target, our target is defined as a single point along XYZ axes.
    However, in many cases in Optics and Computer Graphics, we may want to design surfaces to resemble a specific distribution of intensities over a plane (e.g., a detector or a camera sensor).
    For example, the work by [Schwartzburg et al.](https://doi.org/10.1145/2601097.2601200) [@schwartzburg2014high] designs optical surfaces such that when light refracts, the distribution of these intensities forms an image at some target plane.
    To be able to replicate such works with Odak, odak needs a detector that is differentiable.
    This detector could be added as a class in the `odak.learn.raytracing` submodule, and a new unit test could be added as `test/test_learn_detector.py`.
    To add these to `odak,` you can rely on the `pull request` feature on GitHub.


## Rendering scenes


:octicons-info-24: Informative ·
:octicons-beaker-24: Practical 


This section shows how one can use raytracing for rendering purposes in Computer Graphics.
Note that the provided example is simple, aiming to introduce a newcomer to how raytracing could be used for rendering purposes.
The example uses a single perspective camera and relies on a concept called splatting, where rays originate from a camera towards a scene.
The scene is composed of randomly colored triangles, and each time a ray hits a random colored triangle, our perspective camera's corresponding pixel is painted with the color of that triangle.
Let us review our simple example by reading the code and observing its outcome.


=== ":octicons-file-code-16: `test_learn_ray_render.py`"


    ```python 
    --8<-- "test/test_learn_ray_render.py"
    ```


<figure markdown>
  ![Image title](media/raytracing.png){ width="600" }
  <figcaption>Rendered result for the renderer script of "/test/test_learn_ray_render.py".</figcaption>
</figure>


A modern raytracer used in gaming is far more sophisticated than the example we provide here.
There aspects such as material properties or tracing the ray from its source to a camera or allowing rays to interface with multiple materials.
Covering these aspects in a crash course like the one we provide here will take much work.
Instead, we suggest our readers follow the resources provided in other classes, references provided at the end, or any other online available materials.


## Conclusion


:octicons-info-24: Informative

We can simulate light on a computer using various methods.
We explain "raytracing" as one of these methods.
Often, raytracing deals with light intensities, omitting many other aspects of light, like the phase or polarization of light.
In addition, sending the right amount of rays from a light source into a scene in raytracing is always a struggle as an outstanding sampling problem.
Raytracing creates many success stories in gaming (e.g., [NVIDIA RTX](https://www.nvidia.com/en-gb/geforce/rtx/) or [AMD Radeon Rays](https://gpuopen.com/radeon-rays/)) and optical component design (e.g., [Zemax](https://www.zemax.com/) or [Ansys Speos](https://www.ansys.com/products/optics-vr/ansys-speos)).


Overall, we cover a basic introduction to how to model light as rays and how to use rays to optimize against a given target.
Note that our examples resemble simple cases.
This section aims to provide the readers with a suitable basis to get started with the raytracing of light in simulations.
A dedicated and motivated reader could scale up from this knowledge to advance concepts in displays, cameras, visual perception, optical computing, and many other light-based applications.


!!! warning end "Reminder"
    We host a Slack group with more than 300 members.
    This Slack group focuses on the topics of rendering, perception, displays and cameras.
    The group is open to public and you can become a member by following [this link](https://complightlab.com/outreach/).
    Readers can get in-touch with the wider community using this public group.
